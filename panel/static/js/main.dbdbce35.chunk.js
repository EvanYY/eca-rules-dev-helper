(this["webpackJsonpeac-panel-ui"]=this["webpackJsonpeac-panel-ui"]||[]).push([[0],{139:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(27),a=n.n(r),s=(n(139),n(140),n(76)),o=n.n(s),u=(n(142),n(91)),l=n.n(u),d=(n(144),n(56)),f=n.n(d),v=n(20),j=n(2),b=function(e){var t=Object(c.useState)(!0),n=Object(v.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)("\u5f00\u59cb\u5f55\u5236"),s=Object(v.a)(a,2),o=s[0],u=s[1],d=e.control,b=e.stateUI,h=b.menu,p=b.loading;return Object(j.jsx)("div",{className:"content",children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)(f.a,{onClick:function(){i?(r(!1),u("\u7ed3\u675f\u5f55\u5236"),d.start()):(r(!0),u("\u5f00\u59cb\u5f55\u5236"),d.stop())},disabled:p,children:b.loading?"\u6b63\u5728\u89e3\u6790\u6a21\u677f":o}),Object(j.jsx)(f.a,{disabled:true,children:"\u5bfc\u5165"}),Object(j.jsx)(f.a,{disabled:true,children:"\u5bfc\u51fa"}),0!==h.length&&Object(j.jsx)(f.a,{type:"primary",danger:!0,onClick:function(){return d.removeMenu()},children:"\u6e05\u7a7a\u5f55\u5236\u7ed3\u679c"})]})})},h=n(22);function p(e){return Object(j.jsx)("div",{style:{gap:e.size||"8px"},className:"eca-space align-center",children:e.children})}var O=function(e){var t=e.cur,n=e.setcur,c=e.tabs;return Object(j.jsx)("div",{className:"eca-tabs-content",children:Object(j.jsxs)(p,{children:[c.map((function(e,c){return Object(j.jsx)("div",{className:"eca-tabs-item ".concat(t===e.types?"is-active-tab":""),onClick:function(){return n(e.types)},children:e.label},c)})),e.children]})})},m=function(e){var t=e.options,n=e.active,c=e.isActiveClass,i=e.setState;return Object(j.jsx)("div",{className:"eca-list-group",children:t.length?t.map((function(t,r){return Object(j.jsxs)("div",{className:"eca-list-item ".concat((null===n||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)?c||"is-active":""),onClick:function(){return function(e,t){e!==(null===n||void 0===n?void 0:n.id)&&i(t||{})}(t.id,t)},children:[Object(j.jsx)("div",{title:t.label,children:t.label}),Object(j.jsx)("div",{children:e.extend&&(null===e||void 0===e?void 0:e.extend(t))})]},r)})):"\u6682\u65e0\u6570\u636e"})},x=n(128),g=n.n(x),y=function(e){return Object(j.jsx)("div",{className:"pre-format",children:Object(j.jsx)(g.a,{src:e.json,displayObjectSize:!1,displayDataTypes:!1,enableClipboard:!1})})},w=function(e){var t=e.options,n=e.active,c=e.setState,i=n.store,r=i.variables,a=i.params;return Object(j.jsxs)("div",{className:"list-json",children:[Object(j.jsx)("div",{className:"list-json-menu",children:m({options:t,setState:c,active:n,isActiveClass:"is-active-list",extend:function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:["\u8fdb\u7a0b: ",e.store.sequence]})})}})}),Object(j.jsxs)("div",{className:"list-json-container",children:[Object(j.jsxs)("div",{className:"echo-json",children:[Object(j.jsx)("div",{children:"\u89c4\u5219\u5b9a\u4e49"}),Object(j.jsx)(y,{json:a})]}),Object(j.jsxs)("div",{className:"echo-json",children:[Object(j.jsx)("div",{children:"\u8868\u8fbe\u5f0f\u7684\u503c"}),Object(j.jsx)(y,{json:r})]})]})]})},S=n(129),E=n(130);function k(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var M=/\s/;var N=/^\s+/;function C(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&M.test(e.charAt(t)););return t}(e)+1).replace(N,""):e}var I=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,D=/^0o[0-7]+$/i,_=parseInt;function T(e){if("number"===typeof e)return e;if(k(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=k(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=C(e);var n=L.test(e);return n||D.test(e)?_(e.slice(2),n?2:8):I.test(e)?NaN:+e}var F="Expected a function",U=Math.max,R=Math.min,V=function(){return Date.now()};function z(e,t){var n,c,i,r,a,s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(F);function v(t){var i=n,a=c;return n=c=void 0,u=t,r=e.apply(a,i)}function j(e){return u=e,a=setTimeout(p,t),l?v(e):r}function b(e){var n=t-(e-s);return d?R(n,i-(e-u)):n}function h(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function p(){var e=V();if(h(e))return O(e);a=setTimeout(p,b(e))}function O(e){return a=void 0,f&&n?v(e):(n=c=void 0,r)}function m(){void 0!==a&&clearTimeout(a),u=0,n=s=c=a=void 0}function x(){return void 0===a?r:O(V())}function g(){var e=V(),i=h(e);if(n=arguments,c=this,s=e,i){if(void 0===a)return j(s);if(d)return clearTimeout(a),a=setTimeout(p,t),v(s)}return void 0===a&&(a=setTimeout(p,t)),r}return t=T(t)||0,k(o)&&(l=!!o.leading,i=(d="maxWait"in o)?U(T(o.maxWait)||0,t):i,f="trailing"in o?!!o.trailing:f),g.cancel=m,g.flush=x,g}var A=function(e,t){if(""===t||t===e)return!0;for(var n=0,c=0,i=-1,r=-1;n<e.length;)if(c<t.length&&(e[n]===t[c]||"?"===t[c]))n++,c++;else if(c<t.length&&"*"===t[c])i=n,r=c++;else{if(!(r>-1))return!1;n=++i,c=r+1}for(;c<t.length;)if("*"!==t[c++])return!1;return!0},H=function(e){return{id:e.batchId,label:e.trigger.title,time:B(e.trigger.time,"HH\u65f6MM\u5206SS\u79d2MS\u6beb\u79d2"),store:{rules:{nodes:e.fields.map((function(e){return{name:e.field,store:e.detail}})),links:e.rules.map((function(e){return{source:e.dependent,target:e.target,value:e.weight,effect:e.effect}}))},effect:{pre:e.valueDiffer.oldValue,next:e.valueDiffer.newValue}}}},P=function(e,t,n){return e.length?{id:$(),timeRange:{start:B(t.start),stop:B(t.stop)},store:e.map((function(e){return H(e)})),status:n||"resolve"}:null},J=function(e){try{return JSON.parse(e)}catch(t){return[]}},q=function(e){return document.getElementById(e)},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{return JSON.stringify(e,null,t)}catch(n){return JSON.stringify({error:"".concat(e," failed praser to string")},null,t)}};function $(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13,t="abcdefghijklmnopqrstuvwxyz0123456789",n="",c=0;c<e;c++){var i=Math.random()*t.length;n+=t[parseInt(i,10)]}return n}function B(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:MM:SS";try{t=new Date(e)}catch(s){throw new Error("dateFormat \u65e5\u671f\u521d\u59cb\u5316\u51fa\u9519")}var c,i=n,r={"y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString(),"MS+":t.getMilliseconds().toString()};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(c=new RegExp("("+a+")").exec(i))&&(i=i.replace(c[1],1===c[1].length?r[a]:r[a].padStart(c[1].length,"0")));return i}var K=function(){return(new Date).getTime()},Y=function(){function e(){Object(S.a)(this,e),this.state={}}return Object(E.a)(e,[{key:"addEvent",value:function(e,t){e in this.state?this.state[e].some((function(e){return e===t}))||this.state[e].push(t):this.state[e]=[t]}},{key:"removeEvent",value:function(e,t){if(!(e in this.state))return console.error("".concat(e," is not in state"));var n=this.state[e].findIndex((function(e){return e===t}));-1!==n&&(this.state[e].splice(n,1),0===this.state[e].length&&delete this.state[e])}},{key:"dispatchEvent",value:function(e,t,n){e in this.state?this.state[e].forEach((function(e){return e(t,n)})):"".concat(e," is not in state")}}]),e}(),G=function(e,t,n){return"".concat(e,"__").concat(t,"__").concat(n)},Q=new Y,X="searchLink",Z="viewResize",ee=n(74),te=n(57),ne=function(e){var t,n=e.stateUI.curMenu,i=e.stateUI.dictionary,r=n.store.rules,a=Object(c.useState)(""),s=Object(v.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)({options:[],active:{}}),d=Object(v.a)(l,2),f=d[0],b=d[1],O="eca-panel-chart",m=function(){var e=te.a(q(O));e&&e.resize()},x=function(e){var t=function(e,t){return e.effect.map((function(e){var n=G(e.ruleId,e.actionIndex,e.actionName),c=t[n];return{id:n,label:e.actionName,store:{variables:e.variables,params:c||{},sequence:e.sequence}}}))}(e,i),n=t.length;b({active:t[0]||{},options:n?t:[]})},g=function(e){var t=te.a(q(O));try{t&&(e||t.clear(),t.setOption(function(e,t,n){var c=Math.max.apply(Math,Object(ee.a)(e.map((function(e){return e.name.length})))),i={tooltip:{trigger:"item"},series:{type:"sankey",right:Math.round(6.2*c)+20+"px",left:"20px",top:"20px",nodeAlign:"left",bottom:"20px",emphasis:{focus:"adjacency"},data:e,links:t,lineStyle:{color:"gradient",curveness:.5}}};if(n){i.series.emphasis={focus:"none"};var r={lineStyle:{opacity:1}};i.series.links=t.map((function(e){return e.source===n.source&&e.target===n.target?Object(h.a)(Object(h.a)({},e),r):e})),i.series.lineStyle.opacity=.1}return i}(r.nodes,r.links,e||null)))}catch(n){u("\u6851\u57fa\u56fe\u7ed8\u5236\u5931\u8d25 \u53ef\u80fd\u5b58\u5728\u73af")}};Object(c.useEffect)((function(){g(),b({options:[],active:{}})}),[n]),Object(c.useEffect)((function(){var e=te.a(q(O));void 0===e&&((e=te.b(q(O))).on("click",(function(e){if(e.data.source){var t=e.data;Q.dispatchEvent(X,null),x(t),g(t)}})),e.resize(),g())}),[]),Object(c.useEffect)((function(){return Q.addEvent(Z,m),function(){Q.removeEvent(Z,m)}}),[]),Object(c.useEffect)((function(){var e=function(e){e&&(x(e),g(e))};return Q.addEvent(X,e),function(){Q.removeEvent(X,e)}}));var y=Object(c.useState)({w:0,h:0}),S=Object(v.a)(y,2),E=S[0],k=S[1],M=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=10,c=0;k((function(i){var r={h:i.h,w:i.w};switch(e){case"h":case"w":r[e]=t?r[e]+.1:r[e]-.1,r[e]<c?r[e]=c:r[e]>n&&(r[e]=n);break;case"clear":r.w=0,r.h=0}return r}))};return Object(c.useEffect)((function(){m()}),[E]),Object(j.jsxs)(j.Fragment,{children:[!o&&Object(j.jsxs)("div",{className:"eca-canvas",children:[Object(j.jsx)("div",{className:"eca-canvas-utils",children:Object(j.jsxs)(p,{size:20,children:[Object(j.jsx)("div",{className:"eca-canvas-up",onClick:function(){return M("h",!0)},children:"\u9ad8\u653e\u5927"}),Object(j.jsx)("div",{className:"eca-canvas-down",onClick:function(){return M("h",!1)},children:"\u9ad8\u7f29\u5c0f"}),Object(j.jsx)("div",{className:"eca-canvas-up",onClick:function(){return M("w",!0)},children:"\u5bbd\u653e\u5927"}),Object(j.jsx)("div",{className:"eca-canvas-down",onClick:function(){return M("w",!1)},children:"\u5bbd\u7f29\u5c0f"}),Object(j.jsx)("div",{className:"eca-canvas-all",onClick:function(){return k({w:0,h:0})},children:"\u6062\u590d\u5c3a\u5bf8"}),Object(j.jsxs)(p,{size:8,children:[Object(j.jsxs)("span",{children:["\u9ad8\u5ea6\u6bd4: ",(100*(1+E.h)).toFixed(0)," %"]}),Object(j.jsxs)("span",{children:["\u5bbd\u5ea6\u6bd4: ",(100*(1+E.w)).toFixed(0)," %"]})]})]})}),Object(j.jsx)("div",{style:{width:"100%",height:"100%",overflow:"auto",backgroundColor:"#fff",borderRadius:"10px"},children:Object(j.jsx)("div",{id:O,style:{width:"".concat(100*(1+E.w),"%"),height:"".concat(100*(1+E.h),"%")},children:"chart"})})]}),o&&Object(j.jsxs)("div",{style:{color:"red"},children:[" ",o," "]}),!!(null===(t=f.options)||void 0===t?void 0:t.length)&&Object(j.jsx)(w,{options:f.options,active:f.active,setState:function(e){b({active:e,options:f.options})}})]})},ce=n(132),ie=n(55),re=n(93),ae=["oldStr","newStr","context","theme"],se=function(e){var t=e.oldStr,n=void 0===t?"":t,i=e.newStr,r=void 0===i?"":i,a=e.context,s=e.theme,o=void 0===s?"auto":s,u=Object(ce.a)(e,ae),l=Object(c.useMemo)((function(){var e=["",n||"",r||"","","",{context:a}],t=ie.createPatch.apply(void 0,e),c=Object(re.b)(t,Object(h.a)(Object(h.a)({},u),{},{drawFileList:!1,matching:"lines"}));return function(e){return e.replace(/<span class="d2h-code-line-ctn">(.+?)<\/span>/g,'<span class="d2h-code-line-ctn"><code>$1</code></span>')}(Object(re.a)(c,Object(h.a)(Object(h.a)({},u),{},{drawFileList:!1,matching:"lines"})))}),[n,r,a,u]);return Object(j.jsx)("div",{className:"react-code-diff-lite ".concat(o),dangerouslySetInnerHTML:{__html:l}})};se.defaultProps={oldStr:"",newStr:"",context:0,outputFormat:"line-by-line"};var oe,ue,le=se,de=function(e){var t=e.pre,n=e.next;return Object(j.jsx)("div",{className:"box-content diff-json-container",children:Object(j.jsx)(le,{oldStr:W(t),newStr:W(n),context:15e4,theme:"light",outputFormat:"side-by-side"})})},fe=(n(218),n(92)),ve=n.n(fe),je=ve.a.Option,be=function(e){var t,n,i=e.stateUI,r=i.curMenu,a=i.dictionary;if(!r)return null;var s=r.store.rules,o=function(e){var t=Object(c.useState)("-1"),n=Object(v.a)(t,2),i=n[0],r=n[1],a={};return Object.values(e).map((function(e){return e.actionName})).forEach((function(e){a[e]=e})),{value:i,setValue:r,dictionaryList:[{value:"-1",label:"\u5168\u90e8"}].concat(Object.keys(a).map((function(e){return{value:e,label:e}})))}}(a),u=function(e){var t=e.map((function(e,t){var n={"-1":1};return e.effect.forEach((function(e){n[e.actionName]=1})),{indexes:n,store:e,source:e.source,target:e.target,label:"".concat(e.source," - ").concat(e.target),id:"".concat(t)}})),n=Object(c.useState)(null),i=Object(v.a)(n,2),r=i[0],a=i[1],s=Object(c.useState)(!1),o=Object(v.a)(s,2),u=o[0],l=o[1],d=Object(c.useState)([]),f=Object(v.a)(d,2),j=f[0],b=f[1];return Object(c.useEffect)((function(){b(t)}),[]),{value:r,setValue:a,options:j,setOptions:b,cacheLinks:t,open:u,setOpen:l}}(s.links),l=u.options,d=function(e){var t=u.cacheLinks.filter((function(t){return!!t.indexes[e]&&A(t.target,h.current.value)}));u.setOptions(t)};Object(c.useEffect)((function(){h.current.value="",o.setValue("-1"),u.setValue(null),u.setOptions([])}),[r]),Object(c.useEffect)((function(){var e=function(e){e||(o.setValue("-1"),u.setValue(null))};return Q.addEvent(X,e),function(){Q.removeEvent(X,e)}}));var f=z((function(e){var t=u.cacheLinks.filter((function(t){return n=e,!!(c=t).indexes[o.value]&&A(c.target,n);var n,c}));u.setOptions(t)}),300),b=function(e){var t=u.options.map((function(e){return e.id}));if(t.length){var n="";if(null===u.value)n=t[e?t.length-1:0];else{var c=t.findIndex((function(e){var t;return e===(null===(t=u.value)||void 0===t?void 0:t.id)}));if(-1===c)n=t[e?t.length-1:0];else{var i=e?--c:++c;n=e?i<0?t[t.length-1]:t[i]:i>t.length-1?t[0]:t[i]}}!function(e){var t=u.options.find((function(t){return t.id===e}));if(u.setValue(t||null),!t)throw new Error("\u641c\u7d22\u540e\u7684node \u5e76\u4e0d\u5b58\u5728");Q.dispatchEvent(X,t.store)}(n)}},h=Object(c.useRef)(null);return Object(j.jsxs)("div",{children:[Object(j.jsxs)(p,{children:[Object(j.jsx)(ve.a,{style:{width:300},value:o.value,onChange:function(e){o.setValue(e),d(e)},children:o.dictionaryList.map((function(e){return Object(j.jsx)(je,{value:e.value,children:e.label},e.value)}))}),Object(j.jsxs)(p,{size:12,children:[Object(j.jsx)("input",{ref:h,placeholder:"\u6b63\u5219\u641c\u7d22\u8fb9\u7684\u672b\u5c3e\u8282\u70b9|\u5feb\u6377\u952eup down",onChange:function(e){f(e.target.value)},onFocus:function(e){f(e.target.value)},onKeyDown:function(e){"ArrowUp"!==e.code&&"ArrowDown"!==e.code||(e.preventDefault(),e.stopPropagation(),b("ArrowUp"===e.code))},style:{width:250}}),Object(j.jsx)("span",{className:"btn-text",onClick:function(){return b(!0)},children:"\u2191"}),Object(j.jsx)("span",{className:"btn-text",onClick:function(){return b(!1)},children:"\u2193"}),Object(j.jsxs)("span",{children:["\u5171",Object(j.jsx)("span",{children:l.length}),"\u6761"]}),u.value&&Object(j.jsxs)("span",{children:["\u5f53\u524d\u8fb9\u5904\u4e8e\u641c\u7d22\u540e\u7684\u4f4d\u7f6e",l.findIndex((function(e){var t;return e.id===(null===(t=u.value)||void 0===t?void 0:t.id)}))]})]})]}),Object(j.jsxs)("div",{style:{lineHeight:"20px"},children:[Object(j.jsx)("span",{children:"\u8d77\u59cb\u8282\u70b9:"}),u.value&&Object(j.jsx)("span",{className:"eca-search-link-node",children:null===(t=u.value)||void 0===t?void 0:t.source})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"\u76ee\u6807\u8282\u70b9:"}),u.value&&Object(j.jsx)("span",{className:"eca-search-link-node",children:null===(n=u.value)||void 0===n?void 0:n.target})]})]})},he=(n(299),n(75)),pe=n.n(he),Oe=function(e){var t,n=e.control,c=e.stateUI,i=c.menu,r=c.curMenu,a=(t=[]).concat.apply(t,Object(ee.a)(i.map((function(e){return e.store}))));return Object(j.jsx)(pe.a,{theme:"light",onClick:function(e){var t=e.key;if(t===(null===r||void 0===r?void 0:r.id))return null;var c=a.find((function(e){return e.id===t}));c&&n.setCurMenu(c)},mode:"inline",children:i.map((function(e,t){return Object(j.jsx)(pe.a.SubMenu,{title:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("span",{title:"".concat(e.timeRange.start,"-").concat(e.timeRange.stop),children:["\u7b2c",t+1,"\u6b65"]}),Object(j.jsx)("span",{style:{paddingLeft:10},onClick:function(){return n.removeMenu(e.id)},children:"close"})]}),children:(c=e.store,c.map((function(e){return Object(j.jsx)(pe.a.Item,{title:"".concat(e.label,"(").concat(e.time,")"),children:Object(j.jsx)("div",{title:e.time,children:e.label})},e.id)})))},e.id);var c}))})},me=function(e){var t=Object(c.useState)(0),n=Object(v.a)(t,2),i=n[0],r=n[1],a=Object(c.useRef)();return Object(c.useEffect)((function(){var t=setInterval((function(){r((function(t){return t>12e4&&e.setLoading&&e.setLoading(!1),++t}))}),1e3);return a.current=t,function(){a.current&&clearTimeout(a.current),r(0)}}),[]),Object(j.jsx)("div",{className:"mask",children:Object(j.jsxs)("div",{children:[e.children," ",Object(j.jsxs)("span",{children:[i,"s"]})," "]})})},xe="noticePanel",ge=function(){return window.chrome&&!!window.chrome.devtools},ye=new Y,we=function(e,t){var n,c=t||"emit";ge()&&(n="action(".concat(e,',"').concat(c,'")'),ge()&&window.chrome.devtools.inspectedWindow.eval("".concat("window.__EAC_DEV_TOOLS__",".").concat(n)))};window.contentScriptReceiver=function(e){e.source&&"__EAC_DEV_TODOS__"===e.source&&ye.dispatchEvent(xe,e)},function(e){e.emit="emit",e.abort="abort",e.pending="emitPendding",e.dic="emitRuleDictionary",e.res="emitResolve"}(oe||(oe={})),function(e){e.pending="pending",e.resolve="resolve"}(ue||(ue={}));var Se={start:-1,stop:-1},Ee=o.a.Content;var ke=function(e){var t=e.hideChromeUtils,n=function(){var e="rules",t=Object(c.useState)(e),n=Object(v.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)([]),s=Object(v.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(null),d=Object(v.a)(l,2),f=d[0],j=d[1],b=Object(c.useState)(!1),h=Object(v.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)({}),x=Object(v.a)(m,2);return{defCur:e,tabsUIData:[{label:"\u89c4\u5219\u6267\u884c",types:"rules"},{label:"\u6570\u636e\u5f71\u54cd",types:"effect"}],cur:i,setCur:r,menu:o,setMenu:u,loading:p,setLoading:O,curMenu:f,setCurMenu:j,dictionary:x[0],setDictionary:x[1]}}(),i=function(e){var t=e.setMenu,n=e.setLoading,i=function(t,c){var i=P(t,c);i?e.setMenu((function(e){return e.concat(i)})):console.error("\u6a21\u677f\u89e3\u6790\u9519\u8bef ".concat(i)),n(!1)};return Object(c.useEffect)((function(){var t=function(t,c){var r=t.data,a=t.action;if(a===oe.emit)i(J(r),Object(h.a)(Object(h.a)({},Se),c));else if(a===oe.dic)e.setDictionary((function(e){var t="string"===typeof r?JSON.parse(r):r,n={};return t.forEach((function(e){n[G(e.ruleId,e.actionIndex,e.actionName)]=e})),Object(h.a)(Object(h.a)({},e),n)}));else if(a===oe.pending||a===oe.res){var s=J(r);e.setMenu((function(e){var t=e;if(!s.length)return t;var n=t.findIndex((function(e){return e.status===ue.pending})),i=a===oe.res?ue.resolve:ue.pending;if(-1!==n){var r=s.map((function(e){return H(e)}));return t.map((function(e,t){return t===n?Object(h.a)(Object(h.a)({},e),{},{status:i,store:e.store.concat(r)}):e}))}var o=P(s,Object(h.a)(Object(h.a)({},Se),c),i);return o?t.concat(o):t})),a===oe.res&&n(!1)}};return ye.addEvent(xe,t),function(){ye.removeEvent(xe,t)}}),[]),Object(c.useEffect)((function(){var e=z((function(){Q.dispatchEvent(Z)}),500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),{abortRequest:function(){we(!0,"abort")},setTab:function(t){e.setCur(t)},receiveUpdateSource:i,setCurMenu:function(t){e.setCurMenu(t),e.setCur(e.defCur)},start:function(){Se.start=K(),we(!0)},stop:function(){Se.stop=K(),we(!1),n(!0)},upload:function(){return"upload"},downLoad:function(){return"downLoad"},removeMenu:function(n){"string"===typeof n?t((function(e){return e.filter((function(e){return e.id!==n}))})):(t([]),e.setCurMenu(null))}}}(n),r=Object(c.useMemo)((function(){return function(e){var t=e.stateUI,n=e.control;if(t.curMenu){var c=t.curMenu.store.effect;return Object(j.jsxs)("div",{style:{background:"#fff"},children:[Object(j.jsx)(O,{cur:t.cur,setcur:n.setTab,tabs:t.tabsUIData}),Object(j.jsxs)("div",{style:{flex:1,display:"rules"===t.cur?"block":"none"},children:[Object(j.jsx)("div",{style:{padding:"10px"},children:Object(j.jsx)(be,Object(h.a)({},e))}),Object(j.jsx)(ne,Object(h.a)({},e))]}),Object(j.jsx)("div",{style:{flex:1,display:"effect"===t.cur?"block":"none"},children:Object(j.jsx)(de,{pre:c.pre,next:c.next})})]})}return null}({stateUI:n,control:i})}),[n.curMenu,n.cur]);return Object(j.jsxs)(o.a,{className:"App",children:[!t&&Object(j.jsx)(b,{control:i,stateUI:n}),Object(j.jsxs)(o.a,{style:{height:"calc(100% - 40px)",display:"flex",flexDirection:"row"},className:n.loading?"mask-root":"",children:[n.menu&&n.menu.length>0&&Object(j.jsx)("div",{style:{overflow:"auto",width:180,maxWidth:180,minWidth:180,backgroundColor:"#ffffff",borderRight:"1px solid #dddddd"},children:Oe({stateUI:n,control:i})})||"\u6682\u65e0\u6570\u636e",n.menu&&n.menu.length>0&&Object(j.jsx)(Ee,{style:{display:"flex",flexDirection:"column"},children:r}),n.loading&&Object(j.jsx)(me,{setLoading:n.setLoading,children:"\u6b63\u5728\u63a5\u6536\u6a21\u677f\u6570\u636e"})]})]})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,333)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(ke,{})}),document.getElementById("root")),Me()}},[[324,1,2]]]);